<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: app2.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: app2.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
"use strict"


  

let map = L.map('map').setView([51.505, -0.09], 10);
L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
maxZoom: 19,
attribution: '&amp;copy; &lt;a href="http://www.openstreetmap.org/copyright">OpenStreetMap&lt;/a>'
}).addTo(map);





 window.onload = init;

 

   /**Funktion som kallar annan funktion när hemsidan laddas
    * 
    */
function init () {
 searchbtnEl.addEventListener("click", getLocation)  //När sidan startar så anropas funktionen getLocation
}




let searchEl=document.querySelector("#input");
let searchbtnEl=document.getElementById("search-btn")


let location=[];

/**
 * @async
 * @function getLocation- EN async funktion som hämtar data från ett API (Nominatim)
 * @param {string} url - The URL to download from.
 * @throws {Error} -Om vi inte får någon data
 * @returns {Promise|location}   - Datan som vi får från url
 */
async function getLocation () { //Funktion som hämtar data med hjälp av ajaxanrop. Try/Catch Async/Await´


 let place=searchEl.value
  

 try {const response = await fetch (`https://nominatim.openstreetmap.org/search?addressdetails=1&amp;q=${place}&amp;format=jsonv2&amp;limit=1`)
     if (!response.ok){
         throw new Error ("Fel....")  
     }
 location = await response.json();   

 displayPlace(location)
          

 
}
catch (error){console.error(error)}   
};



/**
 * @function displayPlace -Funktion som sätter markör och ändrar karta till platsen som man söker efter
 * @param {any[]} data 
 * @returns {map} -Man får fram ny placering av karta och markör 
 */
function displayPlace(data) {

  /**
   * Latitude av en plats
   * @type {number}
   */
  let latitude = data[0].lat  //["lat"];
  console.log(latitude);
  
  /**
   * Longitude av en plats
   * @type {number}
   */
  let longitude = data[0].lon  //["lat"];
  console.log(longitude)
  

  map.flyTo(new L.LatLng(latitude, longitude), 10);
  /**
   * Markerar ut en plats på en karta
   * @type {any}
   */
  let marker = L.marker([latitude, longitude]).addTo(map);
};  

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#displayChart-Funktionsomhanterardatafr%25C3%25A5nAPIochskaparettcirkeldiagramochettstapeldiagrammeddataifr%25C3%25A5ndetta">displayChart - Funktion som hanterar data från API och skapar ett cirkeldiagram och ett stapeldiagram med data ifrån detta</a></li><li><a href="global.html#displayPlace-Funktionsoms%25C3%25A4ttermark%25C3%25B6roch%25C3%25A4ndrarkartatillplatsensommans%25C3%25B6kerefter">displayPlace -Funktion som sätter markör och ändrar karta till platsen som man söker efter</a></li><li><a href="global.html#getCourses">getCourses</a></li><li><a href="global.html#getLocation-ENasyncfunktionsomh%25C3%25A4mtardatafr%25C3%25A5nettAPINominatim">getLocation- EN async funktion som hämtar data från ett API </a></li><li><a href="global.html#init">init</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sat Jun 07 2025 22:36:12 GMT+0200 (centraleuropeisk sommartid)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
